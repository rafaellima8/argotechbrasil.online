<section style="max-width: 800px; margin: auto; padding: 20px;">
  <h2>Desenhar SaaS Sob Medida</h2>
  <p>Descreva o sistema que você deseja e nossa IA cria um estudo técnico para você.</p>

  <textarea id="descricaoSistema" 
    placeholder="Ex: sistema de gestao de estoque para loja..."
    style="width: 100%; height: 120px; padding: 10px; border-radius: 6px;">
  </textarea>

  <button onclick="gerarRoteiro()" 
    style="margin-top: 10px; padding: 8px 15px; background: #04bb3c; color: white; border: none; border-radius: 5px; cursor: pointer;">
    Gerar Roteiro Inteligente
  </button>

  <div id="resultadoAI" 
       style="margin-top: 20px; padding: 15px; background: #111827; border-radius: 6px; color: #cbd5e1;">
    <i>Aguardando descrição...</i>
  </div>
</section>
<script>
async function gerarRoteiro() {
    const descricao = document.getElementById("descricaoSistema").value;
    const saidaBox = document.getElementById("resultadoAI");

    saidaBox.innerHTML = "⏳ Gerando roteiro, aguarde...";

    try {
        const response = await fetch("https://summer-leaf-7561.rafargolo.workers.dev/", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ descricao })
        });

        const data = await response.json();

        if (!data.success) {
            saidaBox.innerHTML = "⚠️ Não foi possível gerar resposta.<br><small>" +
                                 (data.error ?? "Erro desconhecido") + "</small>";
            return;
        }

        saidaBox.innerHTML = data.output;
    } catch (err) {
        saidaBox.innerHTML = "❌ Erro ao se comunicar com a IA: " + err.message;
    }
}
</script>
